!function(n){n.app||(n.app={}),n.app.layernav=function(e,o){var l=this;l.$el=n(e),l.el=e,l.$el.data("nav.layernav",l),l.init=function(){l.options=n.extend({},n.app.layernav.defaultOptions,o);var e=l.debounce(function(){l.checkViewport()},250);n(window).on("resize",e),l.$el.addClass("layer-nav")},l.isMobile=function(){return windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,windowWidth<l.options.lgWidth?!0:!1},l.checkViewport=function(){l.isMobile()?(l.$el.addClass("is-mobile"),l.$el.removeClass("is-desktop")):(l.$el.addClass("is-desktop"),l.$el.removeClass("is-mobile"))},l.addMobileToggle=function(){".js-layer-nav-toggle"===l.options.toggleButton&&l.$el.prepend('<a class="js-layer-nav-toggle">'+l.options.toggleButtonText+"</a>"),n(l.options.toggleButton).addClass("layer-nav-toggle")},l.addExpandIcons=function(){l.$el.find("li").has("ul").addClass("has-children"),l.options.expandIcons&&n('<span class="expand-icon">+</span>').insertAfter(l.$el.find("li").has("ul").children("a"))},l.events=function(){n(l.options.toggleButton).on("click",l.expandTopMenu),l.options.expandIcons?l.$el.find(l.options.expandIconsEl).on("click",l.expandSubMenus):l.$el.find(".has-children > a").on("click",l.expandSubMenus)},l.expandSubMenus=function(e){$clickedLink=n(this),$childMenu=$clickedLink.siblings("ul"),!l.options.expandIcons&&l.isMobile()?(e.preventDefault(),l.openMenu($childMenu)):l.openMenu($childMenu)},l.expandTopMenu=function(){l.$el.children("ul").hasClass("open-menu")?l.$el.children("ul").removeClass("open-menu"):l.$el.children("ul").addClass("open-menu")},l.openMenu=function(n){n.hasClass("open-menu")?n.removeClass("open-menu"):n.addClass("open-menu")},l.debounce=function(n,e,o){var l;return function(){var i=this,a=arguments,t=function(){l=null,o||n.apply(i,a)},s=o&&!l;clearTimeout(l),l=setTimeout(t,e),s&&n.apply(i,a)}},l.init(),l.checkViewport(),l.addMobileToggle(),l.addExpandIcons(),l.events()},n.app.layernav.defaultOptions={lgWidth:500,toggleButton:".js-layer-nav-toggle",toggleButtonText:"Menu",expandIcons:!1,expandIconsEl:"span"},n.fn.layerNav=function(e){return this.each(function(){new n.app.layernav(this,e)})}}(jQuery);