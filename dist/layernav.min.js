!function(n){n.app||(n.app={}),n.app.layernav=function(e,o){var a=this;a.$el=n(e),a.el=e,a.$el.data("nav.layernav",a),a.init=function(){a.options=n.extend({},n.app.layernav.defaultOptions,o);var e=a.debounce(function(){a.checkViewport()},250);n(window).on("resize",e),a.$el.addClass("layer-nav")},a.isMobile=function(){return windowWidth=n(window).outerWidth(),windowWidth<a.options.lgWidth?!0:!1},a.checkViewport=function(){a.isMobile()?(a.$el.addClass("is-mobile"),a.$el.removeClass("is-desktop")):(a.$el.addClass("is-desktop"),a.$el.removeClass("is-mobile"))},a.addMobileToggle=function(){".js-layer-nav-toggle"===a.options.toggleButton&&a.$el.prepend('<a class="js-layer-nav-toggle">'+a.options.toggleButtonText+"</a>"),n(a.options.toggleButton).addClass("layer-nav-toggle")},a.addExpandIcons=function(){a.$el.find("li").has("ul").addClass("has-children"),a.options.expandIcons&&n('<span class="expand-icon">+</span>').insertAfter(a.$el.find("li").has("ul").children("a"))},a.events=function(){n(a.options.toggleButton).on("click",a.expandTopMenu),a.options.expandIcons?a.$el.find(a.options.expandIconsEl).on("click",a.expandSubMenus):a.$el.find(".has-children > a").on("click",a.expandSubMenus)},a.expandSubMenus=function(e){$clickedLink=n(this),$childMenu=$clickedLink.siblings("ul"),!a.options.expandIcons&&a.isMobile()?(e.preventDefault(),a.openMenu($childMenu)):a.openMenu($childMenu)},a.expandTopMenu=function(){a.$el.children("ul").hasClass("open-menu")?a.$el.children("ul").removeClass("open-menu"):a.$el.children("ul").addClass("open-menu")},a.openMenu=function(n){n.hasClass("open-menu")?n.removeClass("open-menu"):n.addClass("open-menu")},a.debounce=function(n,e,o){var a;return function(){var l=this,i=arguments,t=function(){a=null,o||n.apply(l,i)},s=o&&!a;clearTimeout(a),a=setTimeout(t,e),s&&n.apply(l,i)}},a.init(),a.checkViewport(),a.addMobileToggle(),a.addExpandIcons(),a.events()},n.app.layernav.defaultOptions={lgWidth:500,toggleButton:".js-layer-nav-toggle",toggleButtonText:"Menu",expandIcons:!1,expandIconsEl:"span"},n.fn.layerNav=function(e){return this.each(function(){new n.app.layernav(this,e)})}}(jQuery);