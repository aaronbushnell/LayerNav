!function(n){n.app||(n.app={}),n.app.layernav=function(e,o){var i=this;i.$el=n(e),i.el=e,i.$el.data("nav.layernav",i),i.init=function(){i.options=n.extend({},n.app.layernav.defaultOptions,o);var e=i.debounce(function(){i.checkViewport()},250);n(window).on("resize",e),i.$el.addClass("tiny-nav")},i.isMobile=function(){return windowWidth=n(window).outerWidth(),windowWidth<i.options.lgWidth?!0:!1},i.checkViewport=function(){i.isMobile()?(i.$el.addClass("is-mobile"),i.$el.removeClass("is-desktop")):(i.$el.addClass("is-desktop"),i.$el.removeClass("is-mobile"))},i.addMobileToggle=function(){".js-tiny-nav-toggle"===i.options.toggleButton&&i.$el.prepend('<a class="js-tiny-nav-toggle">'+i.options.toggleButtonText+"</a>"),n(i.options.toggleButton).addClass("tiny-nav-toggle")},i.addExpandIcons=function(){i.$el.find("li").has("ul").addClass("has-children"),i.options.expandIcons&&n('<span class="expand-icon">+</span>').insertAfter(i.$el.find("li").has("ul").children("a"))},i.events=function(){n(i.options.toggleButton).on("click",i.expandTopMenu),i.options.expandIcons?i.$el.find(i.options.expandIconsEl).on("click",i.expandSubMenus):i.$el.find(".has-children > a").on("click",i.expandSubMenus)},i.expandSubMenus=function(e){$clickedLink=n(this),$childMenu=$clickedLink.siblings("ul"),i.options.expandIcons?i.openMenu($childMenu):(e.preventDefault(),i.openMenu($childMenu))},i.expandTopMenu=function(){i.$el.children("ul").hasClass("open-menu")?i.$el.children("ul").removeClass("open-menu"):i.$el.children("ul").addClass("open-menu")},i.openMenu=function(n){n.hasClass("open-menu")?n.removeClass("open-menu"):n.addClass("open-menu")},i.debounce=function(n,e,o){var i;return function(){var t=this,a=arguments,l=function(){i=null,o||n.apply(t,a)},s=o&&!i;clearTimeout(i),i=setTimeout(l,e),s&&n.apply(t,a)}},i.init(),i.checkViewport(),i.addMobileToggle(),i.addExpandIcons(),i.events()},n.app.layernav.defaultOptions={lgWidth:500,toggleButton:".js-tiny-nav-toggle",toggleButtonText:"Menu",expandIcons:!1,expandIconsEl:"span"},n.fn.layernav=function(e){return this.each(function(){new n.app.layernav(this,e)})}}(jQuery);